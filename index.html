<!DOCTYPE HTML>
<html lang="en-US">

	<!--[if lt IE 7]> <html class="no-js lt-ie9 lt-ie8 lt-ie7" lang="en"> <![endif]-->
	<!--[if IE 7]>    <html class="no-js lt-ie9 lt-ie8" lang="en"> <![endif]-->
	<!--[if IE 8]>    <html class="no-js lt-ie9" lang="en"> <![endif]-->
	<!--[if gt IE 8]><!--> <html class="no-js" lang="en"> <!--<![endif]-->

	<head>
		<meta charset="UTF-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
		<meta name="viewport" content="width=device-width">

		<title>Popcorn Admaker</title>

		<link rel="stylesheet" type="text/css" href="style.css" />
		<link rel="stylesheet" type="text/css" href="ads.css" />

		<script type="text/javascript" src="http://use.typekit.com/dcg5pic.js"></script>
    <script type="text/javascript">try{Typekit.load();}catch(e){}</script>

		<script src="js/modernizr-2.5.3.min.js"></script>
	</head>
	<body>
    <div id="fb-root"></div>

	  <div class="pbs">
	    Presented by: <strong><img src="img/pbs.png" alt="small PBS logo" title="PBS"> NewsHour</strong>
    </div>

		<div class="container">

		  <header>
		    <h1 class="ir">PBS NewsHour AdMaker 2012</h1>
		  </header>

  		<p class="tagline">
  		  <strong>PBS NewsHour</strong> presents
  		    <span id="type_of_ad">
  		      <em class="biographical">Biographical</em>
  		      <em class="attack">Attack</em>
  		      <em class="emotional">Emotional</em>
  		      <em class="children">Children</em>
  		      <em class="documentary">Documentary</em>
  		      <em class="realpeople">Real People</em>
  		      <em class="backfire">Backfire</em>
  		    </span>
  		  <strong>Ad Libs</strong> for <strong>2012</strong>.
  		  <br>
  		  Finally, a chance for <strong>YOU</strong> to <strong>&lsquo;approve this message.&rsquo;</strong>
  		</p>

		  <div class="video_frame">
        <img src="img/pin.png" class="pin">
        <img src="img/crest.png" class="crest">

        <div class="mask">
  		    <div id="poster">
            <h2>Make Your Own<strong>Campaign Ads</strong></h2>
            <h3>Become a Candidate<strong></strong> <img src="img/button-play.png"></h3>
            <div class="fb-login-button" scope="user_about_me,
                                    user_activities,
                                    user_birthday,
                                    user_education_history,
                                    user_groups,
                                    user_hometown,
                                    user_interests,
                                    user_photos,
                                    user_status,
                                    user_work_history">
              Login with Facebook
            </div>
            <p>Make a campaign ad all about you&mdash;or your friends! Do you know how political campaign ads work? How they&rsquo;re built? What they&rsquo;re meant to tell you? Most political ads follow a very rigid set of guidelines and fall into one of a few categories. We&rsquo;ve put together a few samples for you to customize with your own information and imagination. It&rsquo;s fun, it&rsquo;s fast, and you&rsquo;ll never watch campaign ads the same again!</p>
  		    </div>

  		    <div id="choose_ad">
            <ul>
              <li class="ad_choice" id="choose-biographical-smalltown">Biographical: Small-town America</li>
              <li class="ad_choice" id="choose-biographical-metro">Biographical: Metro America</li>
              <li class="ad_choice" id="choose-attack-fitforoffice">Attack: Fit for Office?</li>
              <li class="ad_choice" id="choose-attack-backfire">Attack: Backfire</li>
              <li class="ad_choice" id="choose-emotional">Emotional</li>
            </ul>
  		    </div>

          <div id="video" style="width: 800px; height: 450px;"></div>

          <div class="video_bounds">
    			  <div id="overlay"></div>

            <div id="ad-biographical-smalltown" style="display: none;">
        			<div id="ad-bio-smalltown-subtitle">
        			</div>
        			<div id="ad-biographical-smalltown-hometown">
        			  <div class="text"><span>Podunk, USA</span></div>
        			</div>
        			<div id="ad-biographical-smalltown-photo1" class="photo bottomright">
        			  <img src="img/bio/1.jpg" alt="">
        			</div>
        			<div id="ad-biographical-smalltown-diploma">
        			  <div class="school" id="school">School of Hard Knocks</div>
        			  <div class="name">Morgan Freeman</div>
        			  <div class="year">~ 1945 ~</div>
        			</div>
        			<div id="ad-biographical-smalltown-wrapup">
        			  <div class="name">Morgan Freeman</div>
        			  <div class="slogan">Your freedom is guaranteed by Freeman.</div>
        			  <img class="mug" src="img/bio/2.jpg" alt="Morgan">
        			  <div class="legal">This message was paid for by movie royalties paid to Morgan Freeman.</div>
        			</div>
        		</div>

            <div id="ad-biographical-metro" style="display: none;">
              <!-- -->
        		</div>

        		<div id="ad-attack-fitforoffice" style="display: none;">
        			<div id="ad-attack-fitforoffice-photo1" class="photo bottomleft">
        			  <img src="img/attack/1.jpg">
        			</div>
        			<div id="ad-attack-fitforoffice-photo2" class="photo bottomright">
        			  <img src="img/attack/2.jpg">
        			</div>
        			<div id="ad-attack-fitforoffice-quote">
        			  <p>I don&rsquo;t care. I don&rsquo;t care about anything or anybody and I don&rsquo;t care who knows it.<br>&mdash;Darren Dastardly</p>
        			  <img src="img/attack/3.jpg">
        			</div>
        			<div id="ad-attack-fitforoffice-wrapup">
        			  <div class="name">Wendy Wonderful</div>
        			  <div class="quote">A candidate we can really trust.</div>
        			  <div class="disclaimer">Wendy Wonderful assumes no responsibility for any breaches of courtesy or professionalism contained herein.<br>The Wendy Wonderful campaign absolves itself of all potential claims of libel, slander, or bad taste.<br>This ad paid for by the deep coffers of the Committee to Elect Wendy Wonderful.</div>
        			  <img src="img/attack/4.jpg">
        			</div>
        		</div>

            <div id="ad-attack-backfire" style="display: none;">
              <!-- -->
        		</div>
        	</div>
    		</div>

        <div id="controls" style="display: none;">
          <span id="pause">Pause</span>
          <span id="play" style="display: none;">Play</span>
          <span id="unmute">Un-mute</span>
          <span id="mute" style="display: none;">Mute</span>
        </div>
  		</div>

  		<hr>

		</div>
	</body>

	<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
	<script src="js/popcorn-complete.min.js"></script>
  <script src="js/jquery.cycle.lite.js"></script>

  <script>
  $(document).ready(function(){

    // Tagline fill-in cycler
    $('#type_of_ad').cycle({
      speed: 'fast',
      timeout: 1500
    });

    // Poster
    $('#poster').click(function(){
    	$('#poster').addClass('gone');
    })

    // Start Popcorn instance.
    var ad = Popcorn('#video');

    // Ad chooser
    // TODO: All of these will be in the same script, so this should merely start the corresponding function, not individual scripts.
    $('.ad_choice').click(function(){
      $('.crest').addClass('gone');
      $('.pin').addClass('gone');
    });

    $('#choose-biographical-smalltown').click(function(){
      $('#choose_ad').addClass('gone');
      $.getScript("js/script_biographical-smalltown.js")
    });

    $('#choose-biographical-metro').click(function(){
      $('#choose_ad').addClass('gone');
      $.getScript("js/script_biographical-metro.js")
    });

    $('#choose-attack-fitforoffice').click(function(){
      $('#choose_ad').addClass('gone');
      $.getScript("js/script_attack-fitforoffice.js")
    });

    $('#choose-attack-backfire').click(function(){
      $('#choose_ad').addClass('gone');
      $.getScript("js/script_attack-backfire.js")
    });

    // $('#choose-emotional').click(function(){
    //   $('#choose_ad').addClass('gone');
    //   $.getScript("js/script_emotional.js")
    // });

    // Controls
    $('#pause').click(function(){
      $('#pause').fadeOut();
      $('#play').fadeIn();
    })

    $('#play').click(function(){
      $('#play').fadeOut();
      $('#pause').fadeIn();
    })

    $('#unmute').click(function(){
      $('#unmute').fadeOut();
      $('#mute').fadeIn();
    })

    $('#mute').click(function(){
      $('#mute').fadeOut();
      $('#unmute').fadeIn();
    })

  });
  </script>

<script>
// Initialize SDK.
window.fbAsyncInit = function() {
  FB.init({
    appId      : '461888813829980', // App ID
    channelUrl : 'channel.php', // Channel File
    status     : true, // check login status
    cookie     : true, // enable cookies to allow the server to access the session
    xfbml      : true  // parse XFBML
  });

  // Check login.
  FB.getLoginStatus(function(response) {
    if (response.status === 'connected')
    {
      // User is logged in to Facebook and has authenticated our app.
      var uid = response.authResponse.userID;
      var accessToken = response.authResponse.accessToken;

      // Say hello.
      FB.api('/me', function(response) {
        $('#poster h3 strong').html(', ' + response.first_name + '!');
      });

      // Execute data retrieval.
      getFacebookData();
    }
    else if (response.status === 'not_authorized')
    {
      // User is logged in to Facebook but has not authorized our app.
      $('.fb-login-button').show();
    }
    else
    {
      // User is not logged in to Facebook.
      $('.fb-login-button').show();
    }
  });
}

function getFacebookData()
{
  // Basic information
  FB.api('/me', function(response) {
    var user_information = new Object();
    user_information.name = response.name;
    user_information.first_name = response.first_name;
    user_information.last_name = response.last_name;
    user_information.birthday = response.birthday;
    user_information.hometown = response.hometown.name;

    // var user_education = [];
    // // Education
    // for (i = 0; i < response.education.length; i++) {
    //   if (response.education[i]) {
    //     user_education[i][0] = response.education[i].school.name;
    //     user_education[i][1] = response.education[i].year.name;
    //   }
    // }

    // Fill in.
    $('#ad-biographical-smalltown-hometown .text span').html(user_information.hometown + ', USA');
    $('#ad-biographical-smalltown-diploma .name').html(user_information.name);
    // $('#ad-biographical-smalltown-diploma .school').html(user_education[0][0]);
    // $('#ad-biographical-smalltown-diploma .year').html('~ ' + user_education[0][1]  + ' ~');
    $('#ad-biographical-smalltown-wrapup .name').html(user_information.name);
    $('#ad-biographical-smalltown-wrapup .slogan').html(user_information.bio);
  });
}

// Load the SDK asynchronously.
(function(d){
  var js, id = 'facebook-jssdk', ref = d.getElementsByTagName('script')[0];
  if (d.getElementById(id)) {return;}
  js = d.createElement('script'); js.id = id; js.async = true;
  js.src = "//connect.facebook.net/en_US/all.js";
  ref.parentNode.insertBefore(js, ref);
}(document));
</script>

</html>

<!--

Yet-unused input code, stored here to be out of the way visually while I work on other code up there.

<div id="input">
  <img src="img/star.png" class="star">
  <h2>Where are you from?</h2>
  <ul class="choices">
    <li class="map">Pinpoint on map</li>
    <li class="facebook">Connect to Facebook</li>
    <li class="random">Generate a random town name</li>
  </ul>
  <a class="continue" href="#">Continue</a>
</div>
<div id="okay"><img src="img/button-okay.png"></div>
<div id="no"><img src="img/button-no.png"></div>
<div id="map" style="width: 800px; height: 440px;"></div>

-->